<div class="d-flex align-items-center flex-column text-center">
  <div class="my-3">
    <h1>The Orange Alliance</h1>
    The Orange Alliance is the best way to scout and watch <em>FIRST</em>&nbsp; Tech Challenge
  </div>
  <!--
    <h1 class="my-5">The Orange Alliance</h1>
    <div class="relative-container">
      <div class="new-search-box-container">
        <div class="new-search-box">
          <mdc-icon svgIcon="magnify"></mdc-icon>
          <input autocomplete="off" type="text" [(ngModel)]="search" placeholder="Search for teams or events">
        </div>
        <mdc-list #searchresults class="results" *ngIf="teamSearchResults.length > 0 || eventSearchResults.length > 0">
          <div class="mdc-list-item mdc-list-item&#45;&#45;disabled" *ngIf="teamSearchResults.length > 0">{{ "general.teams" | translate }}</div>
          <a mdc-list-item *ngFor="let team of teamSearchResults" (click)="teamClicked($event, team.teamKey)"
             (keydown.enter)="teamClicked($event, team.teamKey)"
             [innerHTML]="getBoldText(team.teamNumber + ' - ' + (team.teamNameShort ? team.teamNameShort : 'Team ' + team.teamNumber))">
          </a>

          <div class="mdc-list-item mdc-list-item&#45;&#45;disabled" *ngIf="eventSearchResults.length > 0">{{ "general.events" | translate }}</div>
          <a mdc-list-item *ngFor="let event of eventSearchResults" (click)="eventClicked($event, event.eventKey)"
             (keydown.enter)="eventClicked($event, event.eventKey)"
             [innerHTML]="getBoldText(event.fullEventName)">
          </a>
        </mdc-list>
      </div>
    </div>
    <div class="d-flex mt-3 mb-5">
      <mdc-ripple [attachTo]="eventsButton">
        <a #eventsButton class="home-icon-container" routerLink="/events">
          <mdc-icon svgIcon="calendar-outline"></mdc-icon>
          Events
        </a>
      </mdc-ripple>
      <mdc-ripple [attachTo]="teamsButton">
        <a #teamsButton class="home-icon-container" routerLink="/teams">
          <mdc-icon svgIcon="account-group-outline"></mdc-icon>
          Teams
        </a>
      </mdc-ripple>
      <mdc-ripple [attachTo]="leaguesButton">
        <div #leaguesButton class="home-icon-container">
          <mdc-icon svgIcon="map-outline"></mdc-icon>
          Leagues
        </div>
      </mdc-ripple>
    </div>
  -->
</div>

<!--
<mdc-card class="d-none" outlined style="background: transparent">
  <div class="py-2 px-3" mdcSubtitle2>{{ "pages.home.todays_events" | translate }}</div>
  <div *ngFor="let event of currentEvents">
    <mdc-list-divider></mdc-list-divider>
    <toa-event-item [event]="event" [dense]="true"></toa-event-item>

    &lt;!&ndash;
        <mdc-ripple class="demo-card-article">
          <h2 class="py-2 px-3" mdcHeadline5>Copper on the rise</h2>
          <p class="demo-card-article__snippet" mdcBody2>
            Copper price soars amid global market optimism and increased demand.
          </p>
        </mdc-ripple>
    &ndash;&gt;
  </div>
</mdc-card>
-->

<div class="row m-0">
  <div class="col-sm-12 col-lg-6 p-lg-3 p-0 mt-1">
    <div class="row mb-1">
      <div class="col-6 p-1">
        <mdc-card class="toa-card counting-card">
          <div class="counting-card-icon">
            <mdc-icon svgIcon="account-group"></mdc-icon>
            <div class="spinner small secondary" *ngIf="isNaN(teamsCount)"></div>
          </div>
          <div class="counting-card-content">
            <div class="counting-card-title">{{ isNaN(teamsCount) ? "..." : teamsCount }}</div>
            <div class="counting-card-info">{{ "pages.home.active_teams" | translate }}</div>
          </div>
        </mdc-card>
      </div>
      <div class="col-6 p-1">
        <mdc-card class="toa-card counting-card">
          <div class="counting-card-icon">
            <mdc-icon svgIcon="gamepad-variant"></mdc-icon>
            <div class="spinner small secondary" *ngIf="isNaN(matchCount)"></div>
          </div>
          <div class="counting-card-content">
            <div class="counting-card-title">{{ isNaN(matchCount) ? "..." : matchCount }}</div>
            <div class="counting-card-info">{{ "pages.home.matches_played" | translate }}</div>
          </div>
        </mdc-card>
      </div>
    </div>
    <!--
    <div class="row">
      <div class="p-1 col-12">
        <mdc-card class="toa-card p-3 red">
          <p class="m-0">
            Due to the COVID-19 (Coronavirus), <i>FIRST</i> has suspended all events for the duration of the season
            including the <i>FIRST</i> Championships.<br/>
            Refer to <a href="https://www.firstinspires.org/covid-19" target="_blank">firstinspires.org/covid-19</a> for more information.
          </p>
        </mdc-card>
      </div>
    </div>
    -->
    <div class="row" *ngIf="currentEvents">
      <div class="p-1 col-12">
        <mdc-card class="toa-card p-0">
          <div style="padding: 5px 5px 0">
            <div class="toa-card-header pb-0" mdcSubtitle2>{{ "pages.home.todays_events" | translate }}</div>
            <div class="toa-card-subtitle pt-0" mdcSubtitle2>{{ today | date :  "mediumDate" }}</div>
          </div>

          <mdc-list-divider></mdc-list-divider>
          <mdc-linear-progress *ngIf="!eventsReady"></mdc-linear-progress>

          <div *ngIf="eventsReady && currentEvents.length <= 0">
            <p class="pt-4 text-center toa-card-subtitle">{{ "pages.home.no_events_today" | translate }}</p>
          </div>

          <mdc-list *ngIf="eventsReady && currentEvents.length > 0">
            <toa-event-item *ngFor="let event of currentEvents" [event]="event"></toa-event-item>
          </mdc-list>
        </mdc-card>
      </div>
    </div>
  </div>
  <div class="col-sm-12 col-lg-6 p-lg-3 p-0 mt-1">
    <div class="row">
      <div class="p-1 col-12" *ngIf="(highScoreQual && highScoreQual.participants) || (highScoreAll && highScoreAll.participants) || (highScoreElim && highScoreElim.participants)">
        <mdc-card class="toa-card">
          <div class="toa-card-header pb-0" mdcSubtitle2>{{ "pages.home.leaderboards.title" | translate }}</div>
          <div class="toa-card-subtitle pt-0" mdcSubtitle2>FREIGHT FRENZY 2021/22</div>
          <mdc-list-divider></mdc-list-divider>
          <mdc-linear-progress *ngIf="!highScoreAllReady || !highScoreElimReady || !highScoreQualReady || !highScoreSTNPReady || !highScoreSTPReady"></mdc-linear-progress>
          <div class="p-3">
            <div *ngIf="highScoreAll && highScoreAll.participants">
              <h1 class="mb-0" mdcSubtitle2>{{ "pages.home.leaderboards.high_score_all" | translate }} Regular</h1>
              <h1 class="mt-0" mdcCaption>({{ "pages.home.leaderboards.with_enalties" | translate }})</h1>
              <h1 *ngIf="highScoreAll.event" mdcBody2><a class="text-primary" (click)="openEvent(highScoreAll.eventKey, $event)">{{ highScoreAll.event.eventName }}<span *ngIf="highScoreAll.event.divisionName"> - {{ highScoreAll.event.divisionName }}</span></a>
                <a (click)="openMatchDetails(highScoreAll.matchKey)"> <h1 mdcCaption>{{ highScoreAll.matchName }}</h1></a></h1>
              <match-table [match]="highScoreAll"></match-table>
            </div>
            <mdc-list-divider class="my-3"></mdc-list-divider>
            <div *ngIf="highScoreQual && highScoreQual.participants">
              <h1 class="mb-0" mdcSubtitle2>{{ "pages.home.leaderboards.high_score_qual" | translate }} Regular</h1>
              <h1 class="mt-0" mdcCaption>({{ "pages.home.leaderboards.penalty_free" | translate }})</h1>
              <h1 *ngIf="highScoreQual.event" mdcBody2><a class="text-primary" (click)="openEvent(highScoreQual.eventKey, $event)">{{ highScoreQual.event.eventName }}<span *ngIf="highScoreQual.event.divisionName"> - {{ highScoreQual.event.divisionName }}</span></a>
                <a (click)="openMatchDetails(highScoreQual.matchKey)"> <h1 mdcCaption>{{ highScoreQual.matchName }}</h1></a></h1>
              <match-table [match]="highScoreQual"></match-table>
            </div>
            <mdc-list-divider class="my-3"></mdc-list-divider>
            <div *ngIf="highScoreElim && highScoreElim.participants">
              <h1 class="mb-0" mdcSubtitle2>{{ "pages.home.leaderboards.high_score_elim" | translate }} Regular</h1>
              <h1 class="mt-0" mdcCaption>({{ "pages.home.leaderboards.penalty_free" | translate }})</h1>
              <h1 *ngIf="highScoreElim.event" mdcBody2><a class="text-primary" (click)="openEvent(highScoreElim.eventKey, $event)">{{ highScoreElim.event.eventName }}<span *ngIf="highScoreElim.event.divisionName"> - {{ highScoreElim.event.divisionName }}</span></a>
                <a (click)="openMatchDetails(highScoreElim.matchKey)"> <h1 mdcCaption>{{ highScoreElim.matchName }}</h1></a></h1>
              <match-table [match]="highScoreElim"></match-table>
            </div>
            <mdc-list-divider class="my-3"></mdc-list-divider>
            <div *ngIf="highScoreSingleTeam && highScoreSingleTeam.participants">
              <h1 class="mb-0" mdcSubtitle2>{{ "pages.home.leaderboards.high_score_qual" | translate }} Single Team</h1>
              <h1 class="mt-0" mdcCaption>({{ "pages.home.leaderboards.penalty_free" | translate }})</h1>
              <h1 *ngIf="highScoreSingleTeam.event" mdcBody2><a class="text-primary" (click)="openEvent(highScoreSingleTeam.eventKey, $event)">{{ highScoreSingleTeam.event.eventName }}<span *ngIf="highScoreSingleTeam.event.divisionName"> - {{ highScoreSingleTeam.event.divisionName }}</span></a>
                <a (click)="openMatchDetails(highScoreSingleTeam.matchKey)"> <h1 mdcCaption>{{ highScoreSingleTeam.matchName }}</h1></a></h1>
              <match-table [match]="highScoreSingleTeam"></match-table>
            </div>
            <mdc-list-divider class="my-3"></mdc-list-divider>
            <div *ngIf="highScoreSingleTeamPenalty && highScoreSingleTeamPenalty.participants">
              <h1 class="mb-0" mdcSubtitle2>{{ "pages.home.leaderboards.high_score_qual" | translate }} Single Team</h1>
              <h1 class="mt-0" mdcCaption>({{ "pages.home.leaderboards.with_enalties" | translate }})</h1>
              <h1 *ngIf="highScoreSingleTeamPenalty.event" mdcBody2><a class="text-primary" (click)="openEvent(highScoreSingleTeamPenalty.eventKey, $event)">{{ highScoreSingleTeamPenalty.event.eventName }}<span *ngIf="highScoreSingleTeamPenalty.event.divisionName"> - {{ highScoreSingleTeamPenalty.event.divisionName }}</span></a>
                <a (click)="openMatchDetails(highScoreSingleTeamPenalty.matchKey)"> <h1 mdcCaption>{{ highScoreSingleTeamPenalty.matchName }}</h1></a></h1>
              <match-table [match]="highScoreSingleTeamPenalty"></match-table>
            </div>
          </div>
        </mdc-card>
      </div>
      <div class="p-1 col-12" *ngIf="!(highScoreQual && highScoreQual.participants) && !(highScoreAll && highScoreAll.participants) && !(highScoreElim && highScoreElim.participants)">
        <mdc-card class="toa-card">
          <div class="toa-card-header pb-0" mdcSubtitle2>{{ "pages.home.leaderboards.title" | translate }}</div>
          <div class="toa-card-subtitle pt-0" mdcSubtitle2>FREIGHT FRENZY 2021/22</div>
          <mdc-list-divider></mdc-list-divider>
          <div class="p-3">
            No high scores at this time! Please come back later!
          </div>
        </mdc-card>
      </div>
      <div class="p-1 col-12" *ngIf="firstupdatesnow">
        <mdc-card class="toa-card mt-2" *ngIf="willFUNstartSoon()">
          <div class="pr-3 pl-3 pt-3 pb-0">
            <h2 class="toa-card-title" mdcHeadline6>FIRST Updates Now will go live at {{ firstupdatesnow.startDateTime | date: 'MMM d, h:mm a' }} EST</h2>
            <div mdcBody2>
              First Updates Now (FUN) FTC is a live show that produces entertaining and original content about the FIRST Tech Challenge competition. FUN FTC has shows that range from event recaps, to team interviews, panel discussions, to hosting competition live stream.
            </div>
          </div>
          <mdc-card-actions>
            <mdc-card-action-buttons>
              <a mdc-button mdcCardAction="button" href="https://www.twitch.tv/firstupdatesnow" target="_blank"(click)="this.sendAnalytic('leaving', 'first updates now soon card');">Watch Live</a>
            </mdc-card-action-buttons>
          </mdc-card-actions>
        </mdc-card>
        <mdc-card class="toa-card mt-2 p-0" *ngIf="isFUNonLive()">
          <a mdcCardPrimaryAction href="https://www.twitch.tv/firstupdatesnow" target="_blank" class="black no-underline" (click)="this.sendAnalytic('leaving', 'first updates now live card');">
            <div class="row">
              <mdc-card-media square class="col-3 fun-logo"></mdc-card-media>
              <div class="p-3 col">
                <div mdcHeadline5>FIRST Updates Now is on live now</div>
                <div mdcBody2>
                  FIRST Updates Now (FUN) FTC is a live show that produces entertaining and original content about the FIRST Tech Challenge competition. Click to watch
                </div>
              </div>
            </div>
          </a>
        </mdc-card>
      </div>
    </div>
  </div>
</div>
